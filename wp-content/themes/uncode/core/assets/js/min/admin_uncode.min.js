!function(e){"object"==typeof exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){$.extend({bez:function(e,t){if($.isArray(e)&&(t=e,e="bez_"+t.join("_").replace(/\./g,"p")),"function"!=typeof $.easing[e]){var o=function(e,t){var o=[null,null],a=[null,null],n=[null,null],s=function(s,i){return n[i]=3*e[i],a[i]=3*(t[i]-e[i])-n[i],o[i]=1-n[i]-a[i],s*(n[i]+s*(a[i]+s*o[i]))},i=function(e){return n[0]+e*(2*a[0]+3*o[0]*e)},r=function(e){for(var t=e,o=0,a;++o<14&&(a=s(t,0)-e,!(Math.abs(a)<.001));)t-=a/i(t);return t};return function(e){return s(r(e),1)}};$.easing[e]=function(e,a,n,s,i){return s*o([t[0],t[1]],[t[2],t[3]])(a/i)+n}}return e}})}),function($){"use strict";$.fn.get_oembed=function(e,t,o,a){var n=$(this),s=n.next(".oembed_code");if(s[0]){var i=s.html();s.remove();var r={action:"get_oembed",onlycode:t,urlOembed:escape(i),dataType:"json"};$.post(SiteParameters.admin_ajax,r,function(o){if(""!=o)try{var a=JSON.parse(o);if("null"==a.code?(n.html("<b>oEmbed not supported.</b>"),n.closest(".uploader-uncode-media").find(".spinner").removeClass("visible")):n.html(a.code),e&&t){var s,i,r;s=a.mime,"image/url"==a.mime?$(a.code).on("load",function(t){i=$(t.target)[0].width,r=$(t.target)[0].height,e(s,i,r)}):(i=a.width,r=a.height,e(s,i,r))}}catch(c){n.closest(".uploader-uncode-media").find(".spinner").removeClass("visible")}}).done(function(){"undefined"!=typeof o&&$.isFunction(o)&&o()}).error(function(){"undefined"!=typeof a&&$.isFunction(a)&&a()})}},$(document).on("ready",function(){$(document).on("DOMNodeInserted",function(e){try{($(e.target).closest(".media-modal").length||$(e.target).closest(".wpb_el_type_media_element").length||$(e.target).closest(".attachments").length)&&($(e.target).is(".attachment")&&$(e.target).find(".oembed").length>0&&$(e.target).find(".oembed:not(.rendered)").get_oembed(null,!0),$(e.target).find(".attachment-media-view").length>0&&$(e.target).find(".oembed").length>0&&$(e.target).find(".oembed:not(.rendered)").get_oembed(null,!0),$(e.target).is(".format-settings")&&$.each($(".oembed:not(.rendered)",e.target),function(e,t){$(this).get_oembed(null,!0)}))}catch(e){}})}),$(".vc_welcome-header").html("Welcome to Uncode<br>Visual Composer Version"),$("a.deactivate-jscomposer").on("click",function(e){e.preventDefault(),$.ajax({type:"post",dataType:"json",data:{action:"deactivate_js_composer"},url:ajaxurl,success:function(e){1==e&&($("a.deactivate-jscomposer").addClass("button-disabled"),window.location="admin.php?page=uncode-plugins")}})})}(jQuery),function($){function e(){this.isField=!0,this.down=!1,this.inFocus=!1,this.disabled=!1,this.cutOff=!1,this.hasLabel=!1,this.keyboardMode=!1,this.nativeTouch=!0,this.wrapperClass="colors-dropdown",this.onChange=null}function t(){var e=o("_uncode_custom_colors_list"),t=o("_uncode_font_groups"),i=o("_uncode_heading_font_sizes"),l=o("_uncode_heading_font_heights"),u=o("_uncode_heading_font_spacings");e&&a(),t&&n(),i&&s(),l&&r(),u&&c(),e&&d()}function o(e){var t=$('ul[data-name="'+e+'"]');return t.length&&t.hasClass("changed")?!0:!1}function a(){$.ajax({url:ajaxurl,data:{action:"uncode_get_colors"},success:function(e){var t=$(".uncode-color-select"),o="",a="";$.each(e,function(e,t){o+='<option class="'+t.value+'" value="'+t.value+'">'+t.label+"</option>",a+="<li>"+t.label+" <small>:"+t.value+' </small><span class="color style-'+t.value+'-bg"></span></li>'}),t.each(function(){var e=$(this),t=e.val();if(e.find("option:gt(0)").remove(),e.append(o),t&&e.find('option[value="'+t+'"]').attr("selected",!0),-1==window.navigator.userAgent.indexOf("Windows NT 10.0")){var n=e.closest(".colors-dropdown").find(".dropdown-colors-list ul");n.find("li:gt(0)").remove(),n.append(a),e.easyDropDown("update")}})}})}function n(){$.ajax({url:ajaxurl,data:{action:"uncode_get_font_family"},success:function(e){var t=$(".uncode_font_family_dropdown"),o="";$.each(e,function(e,t){o+='<option value="'+t.value+'">'+t.label+"</option>"}),t.each(function(){var e=$(this),t=e.val();e.find("option").remove(),e.append(o),t&&e.find('option[value="'+t+'"]').attr("selected",!0)})}})}function s(){$.ajax({url:ajaxurl,data:{action:"uncode_get_font_size"},success:function(e){var t=$(".uncode_font_size_dropdown"),o="";$.each(e,function(e,t){o+='<option value="'+t.value+'">'+t.label+"</option>"}),t.each(function(){var e=$(this),t=e.val();e.find("option").remove(),e.append(o),t&&e.find('option[value="'+t+'"]').attr("selected",!0)})}})}function r(){$.ajax({url:ajaxurl,data:{action:"uncode_get_line_height"},success:function(e){var t=$(".uncode_line_height_dropdown"),o="";$.each(e,function(e,t){o+='<option value="'+t.value+'">'+t.label+"</option>"}),t.each(function(){var e=$(this),t=e.val();e.find("option").remove(),e.append(o),t&&e.find('option[value="'+t+'"]').attr("selected",!0)})}})}function c(){$.ajax({url:ajaxurl,data:{action:"uncode_get_letter_spacing"},success:function(e){var t=$(".uncode_letter_spacing_dropdown"),o="";$.each(e,function(e,t){o+='<option value="'+t.value+'">'+t.label+"</option>"}),t.each(function(){var e=$(this),t=e.val();e.find("option").remove(),e.append(o),t&&e.find('option[value="'+t+'"]').attr("selected",!0)})}})}function d(){var e=$("#uncode-custom-style-css").attr("href");e=l(e,"id",Math.random(0,1e4)),$("#uncode-custom-style-css").attr("href",e)}function l(e,t,o){var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),n=-1!==e.indexOf("?")?"&":"?";return e.match(a)?e.replace(a,"$1"+t+"="+o+"$2"):e+n+t+"="+o}e.prototype={constructor:e,instances:{},init:function(e,t){var o=this;$.extend(o,t),o.$select=$(e),o.id=e.id,o.options=[],o.$options=o.$select.find("option"),o.isTouch="ontouchstart"in window||navigator.maxTouchPoints,o.$select.removeClass(o.wrapperClass+" dropdown"),o.$select.is(":disabled")&&(o.disabled=!0),o.$options.length&&(o.$options.each(function(e){var t=$(this);t.is(":selected")&&(o.selected={index:e,title:t.text(),color:t.attr("class")},o.focusIndex=e),t.hasClass("label")&&0==e?(o.hasLabel=!0,o.label=t.text(),t.attr("value","")):o.options.push({domNode:t[0],title:t.text(),value:t.val(),color:t.attr("class"),disabled:t.is(":disabled"),selected:t.is(":selected")})}),o.selected||(o.selected={index:0,title:o.$options.eq(0).text()},o.focusIndex=0),o.render())},render:function(){var e=this,t=e.isTouch&&e.nativeTouch?" touch":"",o=e.disabled?" disabled":"";e.$container=e.$select.wrap('<div class="'+e.wrapperClass+t+o+'"><span class="old"/></div>').parent().parent(),e.$active=$('<span class="selected">'+e.selected.title+(""!=e.selected.color?" <small>: "+e.selected.color+" </small>":"")+'<span class="color style-'+e.selected.color+'-bg"></span></span>').appendTo(e.$container),e.$carat=$('<span class="carat"/>').appendTo(e.$container),e.$scrollWrapper=$('<div class="dropdown-colors-list"><ul/></div>').appendTo(e.$container),e.$dropDown=e.$scrollWrapper.find("ul"),e.$form=e.$container.closest("form"),$.each(e.options,function(){var t=this,o=t.disabled?" disabled":"",a=t.selected?" active":"",n="";(""!=o||""!=a)&&(n=' class="'+o+a+'"'),e.$dropDown.append("<li"+n+">"+t.title+(""!=t.color?" <small>: "+t.color+" </small>":"")+'<span class="color style-'+t.color+'-bg"></span></li>')}),e.$items=e.$dropDown.find("li"),e.cutOff&&e.$items.length>e.cutOff&&e.$container.addClass("scrollable"),e.getMaxHeight(),e.isTouch&&e.nativeTouch?e.bindTouchHandlers():e.bindHandlers()},getMaxHeight:function(){var e=this;for(e.maxHeight=0,i=0;i<e.$items.length;i++){var t=e.$items.eq(i);if(e.maxHeight+=t.outerHeight(),e.cutOff==i+1)break}},bindTouchHandlers:function(){var e=this;e.$container.on("click.easyDropDown",function(){e.$select.focus()}),e.$select.on({change:function(){var t=$(this).find("option:selected"),o=t.text(),a=t.val();e.$active.text(o),"function"==typeof e.onChange&&e.onChange.call(e.$select[0],{title:o,value:a})},focus:function(){e.$container.addClass("focus")},blur:function(){e.$container.removeClass("focus")}})},bindHandlers:function(){var e=this;e.query="",e.$container.on({"click.easyDropDown":function(){e.down||e.disabled?e.close():e.open()},"mousemove.easyDropDown":function(){e.keyboardMode&&(e.keyboardMode=!1)}}),$("body").on("click.easyDropDown."+e.id,function(t){var o=$(t.target),a=e.wrapperClass.split(" ").join(".");!o.closest("."+a).length&&e.down&&e.close()}),e.$items.on({"click.easyDropDown":function(){var t=$(this).index();e.select(t),e.$select.focus()},"mouseover.easyDropDown":function(){if(!e.keyboardMode){var t=$(this);t.addClass("focus").siblings().removeClass("focus"),e.focusIndex=t.index()}},"mouseout.easyDropDown":function(){e.keyboardMode||$(this).removeClass("focus")}}),e.$select.on({"focus.easyDropDown":function(){e.$container.addClass("focus"),e.inFocus=!0},"blur.easyDropDown":function(){e.$container.removeClass("focus"),e.inFocus=!1},"keydown.easyDropDown":function(t){if(e.inFocus){e.keyboardMode=!0;var o=t.keyCode;if((38==o||40==o||32==o)&&(t.preventDefault(),38==o?(e.focusIndex--,$(e.$items[e.focusIndex]).hasClass("disabled")&&e.focusIndex--,e.focusIndex=e.focusIndex<0?0:e.focusIndex):40==o&&(e.focusIndex++,$(e.$items[e.focusIndex]).hasClass("disabled")&&e.focusIndex++,e.focusIndex=e.focusIndex>e.$items.length-1?e.$items.length-1:e.focusIndex),e.down||e.open(),e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.cutOff&&e.scrollToView(),e.query=""),e.down)if(9==o||27==o)e.close();else{if(13==o)return t.preventDefault(),e.select(e.focusIndex),e.close(),!1;if(8==o)return t.preventDefault(),e.query=e.query.slice(0,-1),e.search(),clearTimeout(e.resetQuery),!1;if(38!=o&&40!=o){var a=String.fromCharCode(o);e.query+=a,e.search(),clearTimeout(e.resetQuery)}}}},"keyup.easyDropDown":function(){e.resetQuery=setTimeout(function(){e.query=""},1200)}}),e.$dropDown.on("scroll.easyDropDown",function(t){e.$dropDown[0].scrollTop>=e.$dropDown[0].scrollHeight-e.maxHeight?e.$container.addClass("bottom"):e.$container.removeClass("bottom")}),e.$form.length&&e.$form.on("reset.easyDropDown",function(){var t=e.hasLabel?e.label:e.options[0].title;e.$active.text(t)})},unbindHandlers:function(){var e=this;e.$container.add(e.$select).add(e.$items).add(e.$form).add(e.$dropDown).off(".easyDropDown"),$("body").off("."+e.id)},open:function(){var e=this,t=window.scrollY||document.documentElement.scrollTop,o=window.scrollX||document.documentElement.scrollLeft,a=e.notInViewport(t);e.closeAll(),e.getMaxHeight(),e.$select.focus(),e.$container.addClass("open"),e.$scrollWrapper.css("height",e.maxHeight+"px"),e.down=!0},close:function(){var e=this;e.$container.removeClass("open"),e.$scrollWrapper.css("height","0px"),e.focusIndex=e.selected.index,e.query="",e.down=!1},closeAll:function(){var e=this,t=Object.getPrototypeOf(e).instances;for(var o in t){var a=t[o];a.close()}},select:function(e){var t=this;"string"==typeof e&&(e=t.$select.find("option[value="+e+"]").index()-1);var o=t.options[e],a=t.hasLabel?e+1:e;t.$items.removeClass("active").eq(e).addClass("active"),t.$active.html(o.title+(""!=o.color?" <small>: "+o.color+" </small>":"")+'<span class="color style-'+o.color+'-bg"></span>'),t.$select.find("option").removeAttr("selected").eq(a).prop("selected",!0).parent().trigger("change"),t.selected={index:e,title:o.title},t.focusIndex=i,"function"==typeof t.onChange&&t.onChange.call(t.$select[0],{title:o.title,value:o.value})},search:function(){var e=this,t=function(t){e.focusIndex=t,e.$items.removeClass("focus").eq(e.focusIndex).addClass("focus"),e.scrollToView()},o=function(t){return e.options[t].title.toUpperCase()};for(i=0;i<e.options.length;i++){var a=o(i);if(0==a.indexOf(e.query))return void t(i)}for(i=0;i<e.options.length;i++){var a=o(i);if(a.indexOf(e.query)>-1){t(i);break}}},scrollToView:function(){var e=this;if(e.focusIndex>=e.cutOff){var t=e.$items.eq(e.focusIndex),o=t.outerHeight()*(e.focusIndex+1)-e.maxHeight;e.$dropDown.scrollTop(o)}},notInViewport:function(e){var t=this,o={min:e,max:e+(window.innerHeight||document.documentElement.clientHeight)},a=t.$dropDown.offset().top+t.maxHeight;return a>=o.min&&a<=o.max?0:a-o.max+5},destroy:function(){var e=this;e.unbindHandlers(),e.$select.unwrap().siblings().remove(),e.$select.unwrap(),delete Object.getPrototypeOf(e).instances[e.$select[0].id]},disable:function(){var e=this;e.disabled=!0,e.$container.addClass("disabled"),e.$select.attr("disabled",!0),e.down||e.close()},enable:function(){var e=this;e.disabled=!1,e.$container.removeClass("disabled"),e.$select.attr("disabled",!1)},update:function(){var e=this;e.$options=e.$select.find("option"),e.options=[],e.$options.each(function(){var t=$(this);e.options.push({domNode:t[0],title:t.text(),value:t.val(),color:t.attr("class"),disabled:t.is(":disabled"),selected:t.is(":selected")})}),e.$items=e.$dropDown.find("li"),e.unbindHandlers(),e.bindHandlers()}};var u=function(t,o){t.id=t.id?t.id:"EasyDropDown"+p();var a=new e;a.instances[t.id]||(a.instances[t.id]=a,a.init(t,o))},p=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};if($.fn.easyDropDown=function(){var t=arguments,o=[],a;return a=this.each(function(){if(t&&"string"==typeof t[0]){var a=e.prototype.instances[this.id][t[0]](t[1],t[2]);a&&o.push(a)}else u(this,t[0])}),o.length?o.length>1?o:o[0]:a},$(function(){"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype})}),$.fn.uncode_init_upload=function(){$(document).on("click",".ot_upload_media",function(e){e.preventDefault();var t={},o="uncode-editor",a=wp.media.view.AttachmentsBrowser,n=wp.media,s=$(this).parent(".option-tree-ui-upload-parent").find("input").attr("id"),i=$(this).attr("rel"),r=$("#"+s).val(),c="";return t[o]?void t[o].open():(n.view.uploadMediaView=n.View.extend({tagName:"div",className:"uploader-uncode-media",template:n.template("uploader-uncode-media"),events:{"click .close":"hide","paste #mle-code":"entercode","input #mle-code":"entercode"},oembed_callback:function(e,t,o){var a=void 0!=window.workflow?workflow:wp.media.frame,n=a.$el;$button=n.find(".media-button"),$spinner=n.find(".spinner"),""!=e&&(n.find("#mle-mime").val(e),n.find("#mle-width").val(t),n.find("#mle-height").val(o),$button.removeAttr("disabled"),$spinner.removeClass("visible"))},entercode:function(e){var t=this,o=$(this.$el),a=o.find("#mle-code"),n=o.find(".oembed_code"),s=o.find(".oembed"),i=o.find(".spinner"),r;setTimeout(function(){r=a.val(),0==n.length?s.after('<div class="oembed_code">'+r+"</div>"):n.html(r),s.get_oembed(t.oembed_callback,!0),i.addClass("visible")},100)},recordmedia:function(){var e=this,a=$(this.$el),n=t[o].$el.find(".media-button-select");"uploader-uncode-media"==t[o].content.get().el.className?(n.attr("disabled","disabled"),$.ajax({type:"POST",dataType:"json",url:ajaxurl+"?action=recordMedia",data:a.find("input[name],select[name],textarea[name]").serialize(),success:function(e){isNaN(e.id)||void 0==e||(c+='<div class="option-tree-ui-image-wrap"><div class="oembed"><span class="spinner" style="display: block; float: left;"></span></div><div class="oembed_code" style="display: none;">'+e.url+"</div></div>",$("#"+s).val(e.id),$("#"+s+"_media").remove(),$("#"+s).parent().parent("div").append('<div class="option-tree-ui-media-wrap" id="'+s+'_media" />'),$("#"+s+"_media").append(c).slideDown(),$("#"+s+"_media .oembed").get_oembed(null,!0),$("#"+s+"_media .spinner").removeClass("visible"),n.removeAttr("disabled"),t[o].off("select"),t[o].close())}})):e.select()},ready:function(){var e=this,a=t[o].$el.find(".media-button-select");a.off("click").on("click",function(){e.recordmedia()})},select:function(){var e=n.frame.toolbar.get("selection").selection.single();n.frame.close()}}),t[o]=n({title:$(this).attr("title"),button:{text:option_tree.upload_text},multiple:!1}),t[o].on("router:render:browse",function(e){e.set({upload:{text:"Upload Files",priority:20},browse:{text:"Media Library",priority:40},uncode:{text:"Upload oEmbed",priority:30}})}),t[o].on("content:render:uncode",function(){t[o].content.set(new n.view.uploadMediaView({controller:this}))}),t[o].on("close",function(){wp.media.view.AttachmentsBrowser=a}),t[o].on("select",function(){var e=t[o].state().get("selection").first(),a=e.attributes.url,n=e.attributes.id,i=e.attributes.mime,r=/^image\/(?:jpe?g|png|url|gif|x-icon)$/i;c+="oembed/svg"==i?'<div class="option-tree-ui-image-wrap">'+e.attributes.description+"</div>":i.match(r)?'<div class="option-tree-ui-image-wrap"><img src="'+a+'" alt="" /></div>':'<div class="option-tree-ui-image-wrap"><div class="oembed"><span class="spinner" style="display: block; float: left;"></span></div><div class="oembed_code" style="display: none;">'+a+"</div></div>",c+='<a href="#" class="option-tree-ui-remove-media option-tree-ui-button button button-secondary light" title="'+option_tree.remove_media_text+'"><span class="icon fa fa-minus2"></span>'+option_tree.remove_media_text+"</a>",$("#"+s).val(n),$("#"+s+"_media").remove(),$("#"+s).parent().parent("div").append('<div class="option-tree-ui-media-wrap" id="'+s+'_media" />'),$("#"+s+"_media").append(c).slideDown(),$("#"+s+"_media .oembed").get_oembed(),t[o].off("select"),t[o].close()}),t[o].on("open",function(){var e=t[o].state().get("selection"),a=n.attachment(r);a.fetch(),e.set(a)}),void t[o].open())}),$(document).on("click",".option-tree-ui-remove-media",function(e){e.preventDefault();var t=$(e.currentTarget).closest("td"),o=t.find(".option-tree-ui-upload-parent input"),a=t.find(".option-tree-ui-media-wrap");o.attr("value",""),a.remove()})},"undefined"!=typeof wp&&wp.media&&wp.media.view.AttachmentFilters){var m=wp.media.view.AttachmentFilters.extend({className:"attachment-filters",createFilters:function(){var e={};_.each(SiteParameters.media_cats.terms||{},function(t,o){e[o]={text:t.name,props:{"media-category":t.slug}}}),e.all={text:SiteParameters.media_cats.all_label,props:{"media-category":""},priority:10},this.filters=e}}),f=wp.media.view.AttachmentsBrowser;wp.media.view.AttachmentsBrowser=wp.media.view.AttachmentsBrowser.extend({createToolbar:function(){f.prototype.createToolbar.call(this),this.toolbar.set("MediaLibraryTaxonomyFilter",new m({controller:this.controller,model:this.collection.props,priority:-80}).render())}}),wp.media.view.Attachment.Library=wp.media.view.Attachment.Library.extend({className:function(){return this.model.get("customClass")?"attachment "+this.model.get("customClass"):"attachment"}})}$("html").delegate(".media-terms input","change",function(){var e=$(this),t=e.parents(".media-terms"),o=t.parent(),a={action:"save-media-terms",term_ids:[],attachment_id:t.data("id"),taxonomy:t.data("taxonomy")};t.find("input:checked").each(function(){a.term_ids.push($(this).val())}),o.addClass("media-save-terms"),t.find("input").prop("disabled","disabled"),$.post(ajaxurl,a,function(e){o.removeClass("media-save-terms"),t.find("input").removeProp("disabled")})}),$("html").delegate(".toggle-add-media-term","click",function(e){e.preventDefault(),$(this).parent().find(".add-new-term").toggle()}),$("html").delegate(".save-media-category","click",function(e){var t=$(this),o=t.parent().find("input"),a=t.parent().find("select"),n={action:"add-media-term",attachment_id:t.data("id"),taxonomy:t.data("taxonomy"),parent:a.val(),term:o.val()};return""==n.term?void o.focus():void $.post(ajaxurl,n,function(e){t.parents(".field").find(".media-terms ul:first").html(e.checkboxes),t.parents(".field").find("select").replaceWith(e.selectbox),o.val("")},"json")}),$("#option-tree-settings-api.ajax-enabled").on("submit",function(){tinyMCE.triggerSave();var e=$(this).removeClass("uncode-ajax-error").removeClass("uncode-ajax-saved"),o=e.serialize(),a=$("#option-tree-sub-header button.option-tree-save-button .uncode-ot-spinner"),n;return clearTimeout(n),$("#theme-options-ajax-message .theme-options-ajax-message").remove(),e.addClass("uncode-ajax-loading"),$.post("options.php",o).fail(function(t,o,a){var s='<p class="theme-options-ajax-message__text">'+SiteParameters.ajax_save_message.error+"</p>";t.status&&(s+='<p class="theme-options-ajax-message__error"><span class="theme-options-ajax-message__code">['+t.status+"]</span> "+SiteParameters.http_errors[t.status]+"</p>",s||(s+='<p class="theme-options-ajax-message__error">'+SiteParameters.http_errors.unknown+"</p>")),e.removeClass("uncode-ajax-loading").addClass("uncode-ajax-error").addClass("uncode-ajax-error-text"),$("#theme-options-ajax-message").append('<span class="theme-options-ajax-message">'+s+"</span>").fadeIn(250),n=setTimeout(function(){e.removeClass("uncode-ajax-error"),$("#theme-options-ajax-message").fadeOut(500,function(){e.removeClass("uncode-ajax-error-text")})},3e3),console.log(t)}).done(function(o){if(-1!==o.indexOf('<body id="error-page">')){e.removeClass("uncode-ajax-loading").addClass("uncode-ajax-error").addClass("uncode-ajax-error-text");var a='<p class="theme-options-ajax-message__text">'+SiteParameters.ajax_save_message.error;a+='<span class="theme-options-ajax-message__error"> '+SiteParameters.http_errors.unknown+"</span></p>",$("#theme-options-ajax-message").append('<span class="theme-options-ajax-message">'+a+"</span>").fadeIn(250)}else if(-1!==o.indexOf('<body class="login ')){e.removeClass("uncode-ajax-loading").addClass("uncode-ajax-error").addClass("uncode-ajax-error-text");var a='<p class="theme-options-ajax-message__text">'+SiteParameters.ajax_save_message.error;a+='<span class="theme-options-ajax-message__error"> '+SiteParameters.http_errors.login+"</span></p>",$("#theme-options-ajax-message").append('<span class="theme-options-ajax-message">'+a+"</span>").fadeIn(250)}else{t(),e.removeClass("uncode-ajax-loading").addClass("uncode-ajax-saved").addClass("uncode-ajax-saved-text");var a='<p class="theme-options-ajax-message__text">'+SiteParameters.ajax_save_message.success+"</p>";$("#theme-options-ajax-message").append('<span class="theme-options-ajax-message">'+a+"</span>").fadeIn(250)}n=setTimeout(function(){e.removeClass("uncode-ajax-saved").removeClass("uncode-ajax-error"),$("#theme-options-ajax-message").fadeOut(500,function(){e.removeClass("uncode-ajax-saved-text").removeClass("uncode-ajax-error-text")})},3e3)}),!1})}(jQuery),function($){"use strict";var e=window.UNCODE||{};e.dismissAdminNotices=function(){$("#uncode_vc_admin_notice").on("click",".notice-dismiss",function(){$.ajax({url:ajaxurl,data:{action:"uncode_vc_admin_notice_dismiss"}})})},e.messagePosition=function(){var e=$("#option-tree-settings-api"),t=$("#theme-options-ajax-message",e),o=$("#uncode-ot-message");if(e.length&&t.length&&o.length){e.addClass("uncode-ajax-saved-text");var a='<p class="theme-options-ajax-message__text">'+o.text()+"</p>";t.append('<span class="theme-options-ajax-message">'+a+"</span>"),o.remove(),setTimeout(function(){t.fadeIn(500)},1500),setTimeout(function(){$("#theme-options-ajax-message").fadeOut(500,function(){e.removeClass("uncode-ajax-error-text")})},7e3)}},e.managePageOptions=function(){$(".ot-numeric-slider-wrap").has("#_uncode_product_media_size").each(function(){var e=$(".ot-numeric-slider-helper-input",this),t=$(".ot-numeric-slider",this);0==e.val()&&e.val("Inherit"),t.on("slide slidechange",function(t,o){0==o.value&&e.val("Inherit")})})},e.toggleDescription=function(){var e=$(".format-settings, .vc_shortcode-param, .loop_params_holder .vc_row, .system-status-list tr"),t=$("small.description, .vc_description").hide();$(".format-settings.desc-active, .vc_shortcode-param.desc-active, .loop_params_holder .vc_row, .system-status-list tr").removeClass("desc-active"),e.each(function(){var e=$(this),o=$(".toggle-description",e),a=$("small.description, .vc_description",e).eq(0);o.off("click").on("click",function(){$(".format-settings.desc-active, .vc_shortcode-param.desc-active, .loop_params_holder .vc_row, .system-status-list tr").not(e).removeClass("desc-active"),e.toggleClass("desc-active"),t.not(a).slideUp(350,$.bez([.685,.595,.02,.72]));var o=e.hasClass("desc-active")?1:0;a.slideToggle(350,$.bez([.685,.595,.02,.72])).animate({opacity:o},{queue:!1,duration:350},$.bez([.685,.595,.02,.72]))})});var o=$(".loop_params_holder, .vc_param_group-list");o.each(function(){var e=$(this),t=e.closest(".vc_shortcode-param");e.hover(function(){t.addClass("no-propagate")},function(){t.removeClass("no-propagate")})})},e.toggleIconDetector=function(){var e=function(){var e=$(".vc-icons-selector");e.each(function(){var e=$(this),t=$(".selector",e),o=$(".selector-button",e),a=$(".selector-popup",e),n;o.on("click",function(){clearTimeout(n),n=setTimeout(function(){a.is(":visible")?e.addClass("open"):e.removeClass("open")},450)})})},t=$(".vc-iconpicker").on("change",e)},e.stickyButton=function(){function e(e){requestAnimFrame(l)}var t=$("#option-tree-settings-api"),o=$("#option-tree-sub-header",t),a=$("#post-body-content",t),n=document.getElementById("wpwrap").offsetTop,s,i,r,c,d;if(t.length&&o.length&&a.length){var l=function(){s=a[0].getClientRects(),i=a.offset(),r=s[0].top,c=i.left,d=s[0].width,n>=r?(o.addClass("uncode-sticky"),o[0].style.position="fixed",o[0].style.top=n+"px",o[0].style.left=c+"px",o[0].style.width=d+"px"):(o.removeClass("uncode-sticky"),o[0].style.position="absolute",o[0].style.top=0,o[0].style.left=$("body").hasClass("rtl")?"0px":"300px",o[0].style.width="calc(100% - 300px)")};l(),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1),e()}},e.initTabs=function(){$(".wrap.settings-wrap .ui-tabs").tabs({fx:{opacity:"toggle",duration:"fast"}}),$(".wrap.settings-wrap .ui-tabs a.ui-tabs-anchor").on("click",function(e,t){var o="input[name='_wp_http_referer']";if($(o).length>0){var a=$(o).val(),n=$(this).attr("href");if(-1!=a.indexOf("#")){var s=a.split("#")[1],i=n.split("#")[1];a=a.replace(s,i)}else a+=n;$(o).val(a)}}),$(".page-options-header-section").on("click",function(e,t){$('li[aria-controls="setting__uncode_header_tab"] a').trigger("click")})},e.rowDividers=function(){$("body").on("change",".uncode_radio_image",function(){var e=$(this).parents(".uncode-radio-image").eq(0),t=e.find('input[type="hidden"]'),o=$(this).parents("label").eq(0);t.val($(this).val()),$(this).is(":checked")&&($("label",e).not(o).removeClass("checked"),o.addClass("checked"))})},e.numericTextField=function(){var e;$("body").on("input",".uncode_numeric_textfield",function(){var e=$(this),t=e.val();t=t.replace(/\D/g,""),e.val(t)})},$(function(){e.dismissAdminNotices(),e.messagePosition(),e.managePageOptions(),e.toggleDescription(),e.stickyButton(),e.initTabs(),e.rowDividers(),e.numericTextField(),$("#vc_ui-panel-edit-element").on("vcPanel.shown",function(){e.toggleDescription(),e.toggleIconDetector(),$(document).on("vc.display.template vc.display.lists",function(t){e.toggleDescription()})})})}(jQuery);