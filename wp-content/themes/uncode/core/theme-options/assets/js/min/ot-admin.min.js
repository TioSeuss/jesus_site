!function($){OT_UI={processing:!1,init:function(){var t=this;this.init_hide_body(),this.init_sortable(),this.init_add(),this.init_edit(),this.init_remove(),this.init_edit_title(),this.init_edit_id(),this.init_activate_layout(),this.init_upload(),this.init_upload_remove(),this.init_numeric_slider(),this.init_tabs(),this.init_radio_image_select(),this.init_select_wrapper(),this.bind_select_wrapper(),this.fix_upload_parent(),this.fix_textarea(),this.replicate_ajax(),this.reset_settings(),this.css_editor_mode(),this.javascript_editor_mode(),$(window).load(function(){t.init_conditions()})},init_hide_body:function(t,e){var i=".option-tree-setting-body";"parent"==e?$(i).not(t.parent().parent().children(i)).hide():"child"==e?t.closest("ul").find(i).not(t.parent().parent().children(i)).hide():"child-add"==e?t.children().find(i).hide():"toggle"==e?t.parent().parent().children(i).toggle():$(i).hide()},init_remove_active:function(t,e){var i=".option-tree-setting-edit";"parent"==e?$(i).not(t).removeClass("active"):"child"==e?t.closest("ul").find(i).not(t).removeClass("active"):"child-add"==e?t.children().find(i).removeClass("active"):$(i).removeClass("active")},init_sortable:function(t){t=t||document,$(".option-tree-sortable",t).each(function(){if($(this).children("li").length){var t=$(this);t.show(),t.sortable({items:"li:not(.ui-state-disabled)",handle:"div.open",placeholder:"ui-state-highlight",start:function(t,e){e.placeholder.height(e.item.height()-2)},stop:function(e,i){setTimeout(function(){OT_UI.update_ids(t)},200)}})}})},init_add:function(){$(document).on("click",".option-tree-section-add",function(t){t.preventDefault(),OT_UI.add(this,"section")}),$(document).on("click",".option-tree-setting-add",function(t){t.preventDefault(),OT_UI.add(this,"setting")}),$(document).on("click",".option-tree-help-add",function(t){t.preventDefault(),OT_UI.add(this,"the_contextual_help")}),$(document).on("click",".option-tree-choice-add",function(t){t.preventDefault(),OT_UI.add(this,"choice")}),$(document).on("click",".option-tree-list-item-add",function(t){t.preventDefault(),OT_UI.add(this,"list_item")}),$(document).on("click",".option-tree-social-links-add",function(t){t.preventDefault(),OT_UI.add(this,"social_links")}),$(document).on("click",".option-tree-list-item-setting-add",function(t){return t.preventDefault(),$(this).parents("ul").parents("ul").hasClass("ui-sortable")?($("<div />").text(option_tree.setting_limit).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500}),!1):void OT_UI.add(this,"list_item_setting")})},init_edit:function(){$(document).on("click",".option-tree-setting-edit",function(t){t.preventDefault(),$(this).parents().hasClass("option-tree-setting-body")?(OT_UI.init_remove_active($(this),"child"),OT_UI.init_hide_body($(this),"child")):(OT_UI.init_remove_active($(this),"parent"),OT_UI.init_hide_body($(this),"parent")),$(this).toggleClass("active"),OT_UI.init_hide_body($(this),"toggle"),$(this).closest("ul").addClass("changed")})},init_remove:function(){$(document).on("click",".option-tree-setting-remove",function(t){t.preventDefault();var e=this,i=$(this).parents("ul");return $(this).parents("li").hasClass("ui-state-disabled")?($("<div />").text(option_tree.remove_no).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500}),!1):($("<div />").text(option_tree.remove_agree).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500,buttons:{Confirm:function(){OT_UI.remove(e),setTimeout(function(){OT_UI.update_ids(i)},200),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}}),!1)})},init_edit_title:function(){$(document).on("keyup",".option-tree-setting-title",function(){OT_UI.edit_title(this)}),$(document).on("blur",".option-tree-setting-title",function(){var t=$(this).parents(".option-tree-setting-body").find('[type="text"][name$="id]"]');""===t.val()&&t.val($(this).val().replace(/[^a-z0-9]/gi,"_").toLowerCase())})},init_edit_id:function(){$(document).on("keyup",".section-id",function(){OT_UI.update_id(this)})},init_activate_layout:function(){$(document).on("click",".option-tree-layout-activate",function(){var t=$(this).parents(".option-tree-setting").find(".open").text();$(".option-tree-layout-activate").removeClass("active"),$(this).toggleClass("active"),$(".active-layout-input").attr({value:t})}),$(document).on("change","#option-tree-options-layouts-form select",function(){$("<div />").text(option_tree.activate_layout_agree).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500,buttons:{Confirm:function(){$("#option-tree-options-layouts-form").submit()},Cancel:function(){var t=$("#the_current_layout").attr("value");$('#option-tree-options-layouts-form select option[value="'+t+'"]').attr({selected:"selected"}),$("#option-tree-options-layouts-form select").prev("span").replaceWith("<span>"+t+"</span>"),$(this).dialog("close")}}})})},add:function(t,e){var i=this,n="",o="",a="",r=0,s="",l="";if("the_contextual_help"==e?(n=$(t).parent().find("ul:last"),o="list-contextual-help"):"choice"==e?(n=$(t).parent().children("ul"),o="list-choice"):"list_item"==e?(n=$(t).parent().children("ul"),o="list-sub-setting"):"list_item_setting"==e?(n=$(t).parent().children("ul"),o="list-sub-setting"):"social_links"==e?(n=$(t).parent().children("ul"),o="list-sub-setting"):(n=$(t).parent().find("ul:first"),o="section"==e?"list-section":"list-setting"),a=n.data("name"),r=n.data("id"),s=n.data("getOption"),l=$("#"+a+"_settings_array").val(),this.processing===!1){this.processing=!0;var d=parseInt(n.children("li").length);("list_item"==e||"social_links"==e)&&n.find("li input.option-tree-setting-title",i).each(function(){var t=$(this).attr("name"),e=/\[([0-9]+)\]/,i=t.match(e),n=null!=i?parseInt(i[1]):0;n++,n>d&&(d=n)}),$.ajax({url:option_tree.ajax,type:"post",data:{action:"add_"+e,count:d,name:a,post_id:r,get_option:s,settings:l,type:e},complete:function(t){"choice"==e||"list_item_setting"==e?(OT_UI.init_remove_active(n,"child-add"),OT_UI.init_hide_body(n,"child-add")):(OT_UI.init_remove_active(),OT_UI.init_hide_body());var a=$('<li class="ui-state-default '+o+'">'+t.responseText+"</li>");n.append(a),$(".button_icon_container",a).loadIcons(),n.children().last().find(".option-tree-setting-edit").toggleClass("active"),n.children().last().find(".option-tree-setting-body").toggle(),n.children().last().find(".option-tree-setting-title").focus(),"the_contextual_help"!=e&&OT_UI.update_ids(n),OT_UI.init_sortable(a),OT_UI.init_select_wrapper(a),OT_UI.init_numeric_slider(a),OT_UI.parse_condition(),i.processing=!1}})}},remove:function(t){$(t).parent().parent().parent("li").remove()},edit_title:function(t){return this.timer&&clearTimeout(t.timer),this.timer=setTimeout(function(){$(t).parent().parent().parent().parent().parent().children(".open").text(t.value)},100),!0},update_id:function(t){return this.timer&&clearTimeout(t.timer),this.timer=setTimeout(function(){OT_UI.update_ids($(t).parents("ul"))},100),!0},update_ids:function(t){var e,i,n=t.children("li");t.addClass("changed"),n.each(function(t){$(this).hasClass("list-section")&&(i=$(this).find(".section-id").val().trim().toLowerCase().replace(/[^a-z0-9]/gi,"_"),i||(i=$(this).find(".section-title").val().trim().toLowerCase().replace(/[^a-z0-9]/gi,"_")),i||(i=e)),$(this).hasClass("list-setting")&&$(this).find(".hidden-section").attr({value:i}),e=i})},condition_objects:function(){return'select, input[type="radio"]:checked, input[type="text"], input[type="hidden"], input.ot-numeric-slider-hidden-input'},match_conditions:function(t){for(var e,i=/(.+?):(is|not|contains|less_than|less_than_or_equal_to|greater_than|greater_than_or_equal_to)\((.*?)\),?/g,n=[];e=i.exec(t);)n.push({check:e[1],rule:e[2],value:e[3]||""});return n},parse_condition:function(){$('.format-settings[id^="setting_"][data-condition]').each(function(){var t,e=OT_UI.match_conditions($(this).data("condition")),i=($(this).data("operator")||"and").toLowerCase();$.each(e,function(e,n){var o=$("#setting_"+n.check),a=!!o.length&&o.find(OT_UI.condition_objects()).first();if(o.length&&(a.length||""==n.value.toString())){var r=null!=a&&a.length&&null!=a.val()?a.val().toString():"",s=n.value.toString(),l;switch(n.rule){case"less_than":l=parseInt(r)<parseInt(s);break;case"less_than_or_equal_to":l=parseInt(r)<=parseInt(s);break;case"greater_than":l=parseInt(r)>parseInt(s);break;case"greater_than_or_equal_to":l=parseInt(r)>=parseInt(s);break;case"contains":l=-1!==r.indexOf(s)?!0:!1;break;case"is":l=r==s;break;case"not":l=r!=s}switch("undefined"==typeof t&&(t=l),i){case"or":t=t||l;break;case"and":default:t=t&&l}}}),t?$(this).animate({opacity:"show",height:"show"},200):$(this).animate({opacity:"hide",height:"hide"},200),delete t})},init_conditions:function(){var t=function(){var t=0;return function(e,i){clearTimeout(t),t=setTimeout(e,i)}}();$('.format-settings[id^="setting_"]').on("change.conditionals, keyup.conditionals",OT_UI.condition_objects(),function(e){"keyup"===e.type?t(function(){OT_UI.parse_condition()},500):OT_UI.parse_condition(),OT_UI.load_editors()}),OT_UI.parse_condition()},init_upload:function(){$(document).on("click",".ot_upload_media",function(){var t=$(this).parent(".option-tree-ui-upload-parent").find("input").attr("id"),e=$(this).attr("rel"),i=$("#"+t).hasClass("ot-upload-attachment-id"),n="";if(window.wp&&wp.media)window.ot_media_frame=window.ot_media_frame||new wp.media.view.MediaFrame.Select({title:$(this).attr("title"),button:{text:option_tree.upload_text},multiple:!1}),window.ot_media_frame.on("select",function(){var e=window.ot_media_frame.state().get("selection").first(),o=e.attributes.url,a=e.attributes.id,r=e.attributes.mime,s=/^image\/(?:jpe?g|png|gif|x-icon)$/i;r.match(s)&&(n+='<div class="option-tree-ui-image-wrap"><img src="'+o+'" alt="" /></div>'),n+='<a href="javascript:(void);" class="option-tree-ui-remove-media option-tree-ui-button button button-secondary light" title="'+option_tree.remove_media_text+'"><span class="icon ot-icon-minus-circle"></span>'+option_tree.remove_media_text+"</a>",$("#"+t).val(i?a:o),$("#"+t+"_media").remove(),$("#"+t).parent().parent("div").append('<div class="option-tree-ui-media-wrap" id="'+t+'_media" />'),$("#"+t+"_media").append(n).slideDown(),window.ot_media_frame.off("select")}).open();else{var o=window.send_to_editor,a=window.setInterval(function(){$("#TB_iframeContent").length>0&&-1!==$("#TB_iframeContent").attr("src").indexOf("&field_id=")&&$("#TB_iframeContent").contents().find("#tab-type_url").hide(),$("#TB_iframeContent").contents().find(".savesend .button").val(option_tree.upload_text)},50);tb_show("","media-upload.php?post_id="+e+"&field_id="+t+"&type=image&TB_iframe=1"),window.send_to_editor=function(e){var i=$(e).find("img").attr("src");"undefined"==typeof i&&(i=$(e).attr("src")),"undefined"==typeof i&&(i=$(e).attr("href"));var r=/\.(?:jpe?g|png|gif|ico)$/i;i.match(r)&&OT_UI.url_exists(i)&&(n+='<div class="option-tree-ui-image-wrap"><img src="'+i+'" alt="" /></div>'),n+='<a href="javascript:(void);" class="option-tree-ui-remove-media option-tree-ui-button button button-secondary light" title="'+option_tree.remove_media_text+'"><span class="icon ot-icon-minus-circle"></span>'+option_tree.remove_media_text+"</a>",$("#"+t).val(i),$("#"+t+"_media").remove(),$("#"+t).parent().parent("div").append('<div class="option-tree-ui-media-wrap" id="'+t+'_media" />'),$("#"+t+"_media").append(n).slideDown(),OT_UI.fix_upload_parent(),tb_remove(),window.clearInterval(a),window.send_to_editor=o}}return!1})},init_upload_remove:function(){$(document).on("click",".option-tree-ui-remove-media",function(t){t.preventDefault();var e=this;$("<div />").text(option_tree.remove_agree).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500,buttons:{Confirm:function(){OT_UI.remove_image(e),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}})})},init_upload_fix:function(t){var e=$(t).attr("id"),i=$(t).val(),n=$(t).parent().next(".option-tree-ui-media-wrap").find("img"),o=n.attr("src"),a="";if(i!=o)if(i!=o&&n.attr("src",i),""===i||"undefined"!=typeof o&&0!=o||!OT_UI.url_exists(i))""!=i&&OT_UI.url_exists(i)||$(t).parent().next(".option-tree-ui-media-wrap").remove();else{var r=/\.(?:jpe?g|png|gif|ico)$/i;i.match(r)&&(a+='<div class="option-tree-ui-image-wrap"><img src="'+i+'" alt="" /></div>'),a+='<a href="javascript:(void);" class="option-tree-ui-remove-media option-tree-ui-button button button-secondary light" title="'+option_tree.remove_media_text+'"><span class="icon ot-icon-minus-circle">'+option_tree.remove_media_text+"</span></a>",$("#"+e).val(i),$("#"+e+"_media").remove(),$("#"+e).parent().parent("div").append('<div class="option-tree-ui-media-wrap" id="'+e+'_media" />'),$("#"+e+"_media").append(a).slideDown()}},slider_refreshalue:function(t,e){var i=e.closest(".ot-numeric-slider-wrap").find("input"),n=e.closest(".ot-numeric-slider-wrap").find(".ot-numeric-slider-helper-input");if("_uncode_scroll_additional_padding"==i.attr("id"))switch(parseInt(t)){case 18:n.html("0.5x").val("0.5x");break;case 36:n.html("1x").val("1x");break;case 54:n.html("1.5x").val("1.5x");break;default:n.html(0).val(0)}else if("_uncode_product_index_ppp"==i.attr("id"))switch(parseInt(t)){case 0:n.html("Inherit").val("Inherit");break;default:n.html(t).val(t)}else n.html(t).val(t)},init_numeric_slider:function(t){t=t||document,$(".ot-numeric-slider-wrap",t).each(function(){var t=$(".ot-numeric-slider-hidden-input",this),e=t.val(),i=$(".ot-numeric-slider-helper-input",this);e||(e=t.data("min"),i.val(e)),$(".ot-numeric-slider",this).slider({range:"min",min:t.data("min"),max:t.data("max"),step:t.data("step"),value:e,slide:function(e,n){t.add(i).val(n.value),OT_UI.slider_refreshalue(n.value,$(this))},stop:function(t,e){OT_UI.slider_refreshalue(e.value,$(this))},create:function(e,n){t.val($(this).slider("value")),OT_UI.slider_refreshalue(i.val(),$(this))},change:function(t,e){OT_UI.parse_condition(),OT_UI.slider_refreshalue(e.value,$(this))}})})},init_tabs:function(){$(".wrap.settings-wrap .ui-tabs").tabs({fx:{opacity:"toggle",duration:"fast"}}),$(".wrap.settings-wrap .ui-tabs a.ui-tabs-anchor").on("click",function(t,e){var i="input[name='_wp_http_referer']";if($(i).length>0){var n=$(i).val(),o=$(this).attr("href");if(-1!=n.indexOf("#")){var a=n.split("#")[1],r=o.split("#")[1];n=n.replace(a,r)}else n+=o;$(i).val(n)}}),$(".page-options-header-section").on("click",function(t,e){$('li[aria-controls="setting__uncode_header_tab"] a').trigger("click")})},init_radio_image_select:function(){$(document).on("click",".option-tree-ui-radio-image",function(){$(this).closest(".type-radio-image").find(".option-tree-ui-radio-image").removeClass("option-tree-ui-radio-image-selected"),$(this).toggleClass("option-tree-ui-radio-image-selected"),$(this).parent().find(".option-tree-ui-radio").prop("checked",!0).trigger("change")})},init_select_wrapper:function(t){t=t||document,$(".option-tree-ui-select",t).each(function(){$(this).parent().hasClass("select-wrapper")||($(this).wrap('<div class="select-wrapper" />'),$(this).parent(".select-wrapper").prepend("<span>"+$(this).find("option:selected").text()+"</span>"))})},bind_select_wrapper:function(){$(document).on("change",".option-tree-ui-select",function(){var t=$(this).find("option:selected").data("link");void 0!=t?$(this).closest(".format-setting-inner").find(".link-button a").attr("href",t).removeClass("hidden"):$(this).closest(".format-setting-inner").find(".link-button a").addClass("hidden"),$(this).prev("span").replaceWith("<span>"+$(this).find("option:selected").text()+"</span>")})},bind_colorpicker:function(t){var e=$("#"+t),i=e.val().replace(/\s+/g,""),n=100,o,a;i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(n=100*parseFloat(i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),e.wpColorPicker({clear:function(t,e){o.val(100),a.val("100%")}}),$('<div class="vc_alpha-container"><label>Alpha: <output class="rangevalue">'+n+'%</output></label><input type="range" min="1" max="100" value="'+n+'" name="alpha" class="vc_alpha-field"></div>').appendTo(e.parents(".wp-picker-container:first").addClass("vc_color-picker").find(".iris-picker")),o=e.parents(".wp-picker-container:first").find(".vc_alpha-field"),a=e.parents(".wp-picker-container:first").find(".vc_alpha-container output"),o.bind("change keyup",function(){var t=parseFloat(o.val()),i=e.data("a8cIris"),n=e.data("wpWpColorPicker");a.val(o.val()+"%"),i._color._alpha=t/100,e.val(i._color.toString()),n.toggler.css({backgroundColor:e.val()});var r=e.val();$(e).wpColorPicker("color",r)}).val(n).trigger("change")},bind_gradientpicker:function(t){var e=$("#"+t),i=e.closest(".option-tree-setting").find(".option-tree-setting-edit"),n=e.closest(".option-tree-setting").find(".ui-sortable-handle");void 0==n.html()?OT_UI.init_gradientpicker(t):jQuery(i).on("click",function(){OT_UI.init_gradientpicker(t)})},init_gradientpicker:function(t){var e=$("#"+t);jQuery(".gradx_slider").draggable("destroy"),jQuery(".gradient-picker").empty();var i=e,n=e.closest(".option-tree-setting").find(".input-gradient"),o=n.val(),a,r,s;""!=o&&null!=o&&void 0!=o?(o=JSON.parse(o),a=o.sliders,s=o.type,r=o.direction):(a=[],r="left",s="linear"),gradX("#"+t,{type:s,direction:r,sliders:a})},fix_upload_parent:function(){$(".option-tree-ui-upload-input").not(".ot-upload-attachment-id").on("focus blur",function(){$(this).parent(".option-tree-ui-upload-parent").toggleClass("focus"),OT_UI.init_upload_fix(this)})},remove_image:function(t){$(t).parent().parent().find(".option-tree-ui-upload-input").attr("value",""),$(t).parent(".option-tree-ui-media-wrap").remove()},fix_textarea:function(){$(".wp-editor-area").focus(function(){$(this).parent("div").css({borderColor:"#bbb"})}).blur(function(){$(this).parent("div").css({borderColor:"#ccc"})})},replicate_ajax:function(){if(-1!=location.href.indexOf("#")){var t=$("input[name='_wp_http_referer']").val(),e=location.href.substr(location.href.indexOf("#"));$("input[name='_wp_http_referer']").val(t+e),this.scroll_to_top()}setTimeout(function(){$(".wrap.settings-wrap .fade").fadeOut("fast")},3e3)},reset_settings:function(){$(document).on("click",".reset-settings",function(t){t.preventDefault();var e=t.target,i=e.closest("form");$("<div />").text(option_tree.reset_agree).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500,buttons:{Confirm:function(){i.submit(),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}})})},css_editor_mode:function(){$(".ot-css-editor").each(function(){var t=ace.edit($(this).attr("id")),e=$("#textarea_"+$(this).attr("id"));t.setTheme("ace/theme/chrome"),t.getSession().setMode("ace/mode/css"),t.setShowPrintMargin(!1),t.getSession().setValue(e.val()),t.getSession().on("change",function(){e.val(t.getSession().getValue())}),e.on("change",function(){t.getSession().setValue(e.val())})})},javascript_editor_mode:function(){$(".ot-javascript-editor").each(function(){var t=ace.edit($(this).attr("id")),e=$("#textarea_"+$(this).attr("id"));t.setTheme("ace/theme/chrome"),t.getSession().setMode("ace/mode/javascript"),t.setShowPrintMargin(!1),t.getSession().setValue(e.val()),t.getSession().on("change",function(){e.val(t.getSession().getValue())}),e.on("change",function(){t.getSession().setValue(e.val())})})},load_editors:function(){OT_UI.css_editor_mode(),OT_UI.javascript_editor_mode()},url_exists:function(t){var e=document.createElement("a");if(e.href=t,e.hostname!=window.location.hostname)return!0;var i=new XMLHttpRequest;return i.open("HEAD",t,!1),i.send(),404!=i.status},scroll_to_top:function(){setTimeout(function(){$(this).scrollTop(0)},50)}},$(document).ready(function(){OT_UI.init()})}(jQuery),!function($){ot_gallery={frame:function(t){var e=this.select(t);return this._frame=wp.media({id:"ot-gallery-frame",frame:"post",state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,editing:!0,multiple:!0,selection:e}),this._frame.on("update",function(){var i=ot_gallery._frame.states.get("gallery-edit"),n=i.get("library"),o=n.pluck("id"),a=$(t).parents(".format-setting-inner"),r=a.children(".ot-gallery-value"),s=wp.media.gallery.shortcode(e).string().replace(/\"/g,"'");r.attr("value",o),a.children(".ot-gallery-list").length<=0&&r.after('<ul class="ot-gallery-list" />'),$.ajax({type:"POST",url:ajaxurl,dataType:"html",data:{action:"gallery_update",ids:o},success:function(e){a.children(".ot-gallery-list").html(e),r.hasClass("ot-gallery-shortcode")&&r.val(s),$(t).parent().children(".ot-gallery-delete").length<=0&&$(t).parent().append('<a href="#" class="option-tree-ui-button button button-secondary hug-left ot-gallery-delete">'+option_tree["delete"]+"</a>"),$(t).text(option_tree.edit),OT_UI.parse_condition()}})}),this._frame},select:function(t){var e=$(t).parents(".format-setting-inner").children(".ot-gallery-value"),i=e.attr("value"),n=e.hasClass("ot-gallery-shortcode")?i:"[gallery ids='"+i+"]",o=wp.shortcode.next("gallery",i?n:wp.media.view.settings.ot_gallery.shortcode),a=wp.media.gallery.defaults.id,r,s;if(o)return o=o.shortcode,_.isUndefined(o.get("id"))&&!_.isUndefined(a)&&o.set("id",a),_.isUndefined(o.get("ids"))&&!e.hasClass("ot-gallery-shortcode")&&i&&o.set("ids",i),_.isUndefined(o.get("ids"))&&o.set("ids","0"),r=wp.media.gallery.attachments(o),s=new wp.media.model.Selection(r.models,{props:r.props.toJSON(),multiple:!0}),s.gallery=r.gallery,s.more().done(function(){s.props.set({query:!1}),s.unmirror(),s.props.unset("orderby")}),s},open:function(t){ot_gallery.frame(t).open()},remove:function(t){$("<div />").text(option_tree.confirm).dialog({autoOpen:!0,modal:!0,dialogClass:"uncode-modal",title:"Confirmation Required",minHeight:500,minWidth:500,buttons:{Confirm:function(){$(t).parents(".format-setting-inner").children(".ot-gallery-value").attr("value",""),$(t).parents(".format-setting-inner").children(".ot-gallery-list").remove(),$(t).next(".ot-gallery-edit").text(option_tree.create),$(t).remove(),OT_UI.parse_condition(),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}})}},$(document).on("click.ot_gallery.data-api",".ot-gallery-delete",function(t){t.preventDefault(),ot_gallery.remove($(this))}),$(document).on("click.ot_gallery.data-api",".ot-gallery-edit",function(t){t.preventDefault(),ot_gallery.open($(this))})}(window.jQuery),!function($){$(document).on("ready",function(){$(".ot-metabox-wrapper").each(function(){$(this).find(".type-tab").length&&($(this).find(".type-tab").parents(".ot-metabox-wrapper").wrapInner('<div class="ot-metabox-panels" />'),$(this).find(".ot-metabox-panels").wrap('<div class="ot-metabox-tabs" />').before('<ul class="ot-metabox-nav" />'),$(this).find(".format-settings").each(function(){if($(this).find(".type-tab").length>0){var t=$(this).find(".type-tab").prev().find("label").html(),e=$(this).attr("id");$(this).addClass("is-panel").hide(),$(this).parents(".ot-metabox-panels").prev(".ot-metabox-nav").append('<li><a href="#'+e+'">'+t+"</a></li>")}}),$(this).find(".is-panel").each(function(){var t=$(this).attr("id");$(this).add($(this).nextUntil(".is-panel")).wrapAll('<div id="'+t+'" class="tab-content" />')}),$(this).find(".ot-metabox-tabs").tabs({activate:function(t,e){var i=$(this).outerHeight(),n=$(this).find(".ot-metabox-panels").outerHeight()+8,o=i-34;"12px"==$(this).find(".ot-metabox-panels").css("padding")&&i>n&&$(this).find(".ot-metabox-panels").css({minHeight:o}),OT_UI.load_editors()}}),$(this).find(".ot-metabox-panels > .format-settings").prependTo($(this)),$(this).find(".ot-metabox-tabs").removeClass("ui-widget ui-widget-content ui-corner-all"),$(this).find(".ot-metabox-nav").removeClass("ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),$(this).find(".ot-metabox-nav li").removeClass("ui-state-default ui-corner-top ui-tabs-active ui-tabs-active"),$(this).find(".ot-metabox-nav li").on("mouseenter mouseleave",function(){$(this).removeClass("ui-state-hover")}))})})}(window.jQuery),!function($){$(document).on("ready",function(){$("#option-tree-settings-api .inside").each(function(){$(this).find(".type-tab").length&&($(this).find(".type-tab").parents(".inside").wrapInner('<div class="ot-theme-option-panels" />'),$(this).find(".ot-theme-option-panels").wrap('<div class="ot-theme-option-tabs" />').before('<ul class="ot-theme-option-nav" />'),$(this).find(".format-settings").each(function(){if($(this).find(".type-tab").length>0){var t=$(this).find(".type-tab").prev().find(".label").text(),e=$(this).attr("id");$(this).addClass("is-panel").hide(),$(this).parents(".ot-theme-option-panels").prev(".ot-theme-option-nav").append('<li><a href="#'+e+'">'+t+"</a></li>")}}),$(this).find(".is-panel").each(function(){var t=$(this).attr("id");$(this).add($(this).nextUntil(".is-panel")).wrapAll('<div id="'+t+'" class="tab-content" />')}),$(this).find(".ot-theme-option-tabs").tabs({activate:function(t,e){OT_UI.load_editors()}}),$(this).find(".ot-theme-option-panels > .format-settings").prependTo($(this).find(".ot-theme-option-tabs")))})})}(window.jQuery),!function($){$(document).on("ready",function(){$(".hndle").on("mousedown",function(){var t=$(this).closest("div").attr("id");$(".wrap").on("mouseup",function(){var e={};$("#"+t+' input[type="radio"]').each(function(){$(this).is(":checked")&&(e[$(this).attr("name")]=$(this).val()),$(document).data("ot_checked_radios",e)}),setTimeout(function(){var t=$(document).data("ot_checked_radios");for(key in t)$('input[name="'+key+'"]').filter('[value="'+t[key]+'"]').trigger("click");$(".wrap").unbind("mouseup")},50)})})})}(window.jQuery),function($,t,e,i){"use strict";typeof Color.fn.toString!==i&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var e=6-t.length-1;e>=0;e--)t="0"+t;return"#"+t}),$.ot_ParseColorValue=function(t){var e=t.replace(/\s+/g,""),i=-1!==e.indexOf("rgba")?parseFloat(100*e.replace(/^.*,(.+)\)/,"$1")):100,n=100>i?!0:!1;return{value:e,alpha:i,rgba:n}},$.fn.ot_wpColorPicker=function(){return this.each(function(){var t=$(this);if(t.data("rgba")!==!1){var e=$.ot_ParseColorValue(t.val());t.wpColorPicker({change:function(e,i){t.closest(".wp-picker-container").find(".option-tree-opacity-slider-offset").css("background-color",i.color.toString()),t.trigger("keyup")},create:function(i,n){var o=t.data("a8cIris"),a=t.closest(".wp-picker-container"),r=$('<div class="option-tree-opacity-wrap"><div class="option-tree-opacity-slider"></div><div class="option-tree-opacity-slider-offset"></div><div class="option-tree-opacity-text"></div></div>').appendTo(a.find(".wp-picker-holder")),s=r.find(".option-tree-opacity-slider"),l=r.find(".option-tree-opacity-text"),d=r.find(".option-tree-opacity-slider-offset");s.slider({slide:function(e,i){var n=parseFloat(i.value/100);o._color._alpha=n,t.wpColorPicker("color",o._color.toString()),l.text(1>n?n:"")},create:function(){var i=parseFloat(e.alpha/100),n=1>i?i:"";l.text(n),d.css("background-color",e.value),a.on("click",".wp-picker-clear",function(){o._color._alpha=1,l.text(""),s.slider("option","value",100).trigger("slide")}),a.on("click",".wp-picker-default",function(){var e=$.ot_ParseColorValue(t.data("default-color")),i=parseFloat(e.alpha/100),n=1>i?i:"";o._color._alpha=i,l.text(n),s.slider("option","value",e.alpha).trigger("slide")}),a.on("click",".wp-color-result",function(){r.toggle()}),$("body").on("click.wpcolorpicker",function(){r.hide()})},value:e.alpha,step:1,min:1,max:100})}})}else t.wpColorPicker({change:function(){t.trigger("keyup")}})})},$(e).ready(function(){$(".hide-color-picker.ot-colorpicker-opacity").ot_wpColorPicker()})}(jQuery,window,document),!function($){$(document).on("ready",function(){$(".option-tree-save-layout").each(function(){var t=$(this),e=$('input[name="uncode_layouts[_add_new_layout_]"]',t),i=$(".option-tree-ui-button.button.save-layout",t).prop("disabled",!0),n=function(){""!==e.val()?i.prop("disabled",!1):i.prop("disabled",!0)};n(),t.on("submit",function(){n()}),e.on("change keypress keyup focus blur",function(){n()})})})}(window.jQuery);
