(function($){"use strict";var query_args=location.search,base_url=location.protocol+"//"+location.host+location.pathname;if(-1!==query_args.indexOf("notify=1")){window.history.replaceState({},document.title,base_url)}window.uncode_toolkit_privacy_has_consent=function(consent){var consentSwitch=$("#gdpr-consent-"+consent);if(consentSwitch.length){if(consentSwitch.attr("data-default-on")==="true"&&consentSwitch.prop("checked")){return true}}if(Cookies.get("uncode_privacy[consent_types]")){var consentArray=JSON.parse(Cookies.get("uncode_privacy[consent_types]"));if(consentArray.indexOf(consent)>-1){return true}}return false};$(function(){if(!Cookies.get("uncode_privacy[privacy_bar]")){$(".gdpr.gdpr-privacy-bar").delay(1e3).slideDown(600)}$(document).on("click",".gdpr.gdpr-privacy-bar .gdpr-agreement",function(){$(".gdpr.gdpr-privacy-bar").addClass("gdpr-hide-bar");Cookies.set("uncode_privacy[privacy_bar]",1,{expires:365})});$(document).on("submit",".gdpr-privacy-preferences-frm",function(){Cookies.set("uncode_privacy[privacy_bar]",1,{expires:365})});$(document).on("click",".gdpr-preferences",function(){var type=$(this).data("type");$(".gdpr-overlay").fadeIn();$("body").addClass("gdpr-noscroll");$(".gdpr.gdpr-privacy-preferences .gdpr-wrapper").fadeIn()});$(document).on("click",".gdpr.gdpr-privacy-preferences .gdpr-close, .gdpr-overlay",function(){$(".gdpr-overlay").fadeOut();$("body").removeClass("gdpr-noscroll");$(".gdpr.gdpr-privacy-preferences .gdpr-wrapper").fadeOut()});$("body").on("click",".gdpr-preferences",function(e){e.preventDefault();$(window).trigger("gdprOpen")}).on("click",".gdpr.gdpr-privacy-preferences .gdpr-close, .gdpr-overlay",function(){$(window).trigger("gdprClose")});var switches=$(".gdpr-switch").find("input");function add_active_color(el){el.next().css("background",Uncode_Privacy_Parameters.accent_color)}function add_default_color(el){el.next().css("background","#ccc")}switches.each(function(){var _this=$(this);if($("body").hasClass("logged-in")){if(_this.prop("checked")){add_active_color(_this)}}_this.on("change",function(){if(_this.prop("checked")){add_active_color(_this)}else{add_default_color(_this)}})});if(!$("body").hasClass("logged-in")){switches.each(function(){var _this=$(this);var type=_this.attr("name")=="user_consents[]"?"consent":"cookie";if(type=="consent"){var is_allowed=uncode_toolkit_privacy_has_consent(_this.val());if(is_allowed){_this.prop("checked",true);add_active_color(_this)}else{_this.prop("checked",false);add_default_color(_this)}}})}})})(jQuery);
