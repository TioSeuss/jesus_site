void 0===jQuery.fn.draggable&&(jQuery.fn.draggable=function(){var t=document.getElementById(this.attr("id"));return t.style.top="121px",Drag.init(t,null,26,426,86,86),this});var gradX=function(_,t){var r={targets:[],sliders:[],direction:"left",type:"linear",code_shown:!1,change:function(t,r){}};for(var e in gradx={rand_RGB:[],rand_pos:[],id:null,slider_ids:[],slider_index:0,sliders:[],direction:"left",type:"linear",shape:"cover",slider_hovered:[],jQ_present:!0,code_shown:!1,load_jQ:function(){this.gx=jQuery},add_event:function(t,r,e){var a,d,i;d=r,i=e,(a=t).attachEvent?a.attachEvent("on"+d,function(){i.call(a)}):a.addEventListener&&a.addEventListener(d,i,!1)},get_random_position:function(){for(var t;t=parseInt(100*Math.random()),-1<this.rand_pos.indexOf(t););return this.rand_pos.push(t),t},get_random_rgb:function(){for(var t;t="rgb("+parseInt(255*Math.random())+", "+parseInt(255*Math.random())+", "+parseInt(255*Math.random())+")",-1<this.rand_RGB.indexOf(t););return this.rand_RGB.push(t),t},update_target:function(t){if(0<this.targets.length){var r,e,a,d=this.targets.length,i=t.length;for(r=0;r<d;r++)for(a=gradx.gx(this.targets[r]),e=0;e<i;e++)a.css("background-image",t[e])}},apply_style:function(t,r){var e="linear",a=this.direction;if("linear"!=gradx.type?e="radial":a="left"===this.direction?"right":"right"===this.direction?"left":"top"===this.direction?"bottom":"top",-1<r.indexOf(a))var d=[e+"-gradient("+r+")"];else d=[r];for(var s=d.length,n="";0<s;)s--,t.css("background",d[s]),n+="background: "+d[s]+";";this.change(this.sliders,d);var g=[];for(i=0;i<this.sliders.length;i++){var l={color:this.sliders[i][0],position:this.sliders[i][1]};g.push(l)}var o=new Object;o.css=n,o.sliders=g,o.type=this.type,o.direction=this.direction,jQuery(_).closest(".format-setting-inner").find(".input-gradient").val(JSON.stringify(o))},apply_default_styles:function(){this.update_style_array();var t=this.get_style_value();this.apply_style(this.panel,t)},update_style_array:function(){this.sliders=[];var t,r,e,a,d=gradx.slider_ids.length;for(t=0;t<d;t++)a="#"+gradx.slider_ids[t],r=parseInt(gradx.gx(a).css("left")),e=parseInt(r/gradx.container_width*100),e-=6,gradx.sliders.push([gradx.gx(a).css("background-color"),e]);this.sliders.sort(function(t,r){return t[1]>r[1]?1:-1})},get_style_value:function(){var t=gradx.slider_ids.length;if(1===t)r=this.sliders[0][0];else{for(var r="",e="",a=0;a<t;a++)""==this.sliders[a][1]?r+=e+this.sliders[a][0]:(100<this.sliders[a][1]&&(this.sliders[a][1]=100),r+=e+(this.sliders[a][0]+" ")+this.sliders[a][1]+"%"),e=" , ";if("linear"==this.type)r="to "+("left"===this.direction?"right":"right"===this.direction?"left":"top"===this.direction?"bottom":"top")+" , "+r;else r=this.type+" at "+this.direction+" , "+r}return r},get_rgb_obj:function(t){return t=(t=(t=t.split("("))[1]).split(","),{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2])}},load_info:function(t){var r="#"+t.id;if(this.current_slider_id=r,-1<this.slider_ids.indexOf(t.id)){var e=gradx.gx(r).css("backgroundColor"),a=this.get_rgb_obj(e),d=gradx.gx(r).css("left");26<parseInt(d)&&parseInt(d)<426&&gradx.gx("#gradx_slider_info").css("left",d).show(),this.set_colorpicker(a)}},add_slider:function(t){var r,e,a,d;for(a in 0===t.length&&(t=[{color:gradx.get_random_rgb(),position:gradx.get_random_position()},{color:gradx.get_random_rgb(),position:gradx.get_random_position()}]),obj=t,obj){if(void 0===obj[a].position)break;d=parseInt(obj[a].position*this.container_width/100)+26+"px",r="gradx_slider_"+this.slider_index,this.sliders.push([obj[a].color,obj[a].position]),this.slider_ids.push(r),e="<div class='gradx_slider' id='"+r+"'></div>",gradx.gx("#gradx_start_sliders_"+this.id).append(e),gradx.gx("#"+r).css("backgroundColor",obj[a].color).css("left",d),this.slider_index++}for(var i=0,s=this.slider_ids.length;i<s;i++)gradx.gx("#"+this.slider_ids[i]).draggable({containment:"parent",axis:"x",start:function(){gradx.jQ_present&&(gradx.current_slider_id="#"+gradx.gx(this).attr("id"))},drag:function(){gradx.update_style_array(),gradx.apply_style(gradx.panel,gradx.get_style_value());var t=gradx.gx(gradx.current_slider_id).css("left");26<parseInt(t)&&parseInt(t)<426&&gradx.gx("#gradx_slider_info").css("left",t).show();var r=gradx.gx(gradx.current_slider_id).css("backgroundColor"),e=gradx.get_rgb_obj(r);gradx.cp.spectrum("set",e)}}).click(function(){return gradx.load_info(this),!1})},set_colorpicker:function(t){gradx.cp.spectrum({move:function(t){if(0!=gradx.current_slider_id){var r=t.toRgbString();gradx.gx(gradx.current_slider_id).css("background-color",r),gradx.update_style_array(),gradx.apply_style(gradx.panel,gradx.get_style_value())}},change:function(){gradx.gx("#gradx_slider_info").hide()},flat:!0,showAlpha:!0,color:t,clickoutFiresChange:!0,showInput:!0,showButtons:!1})},generate_options:function(t){for(var r,e,a=t.length,d="",i=0;i<a;i++)r=(r=t[i].split(" "))[0],e=i<2?r[1]:"",r=r.replace("-"," "),d+="<option value="+t[i]+" "+e+">"+r+"</option>";return d},generate_radial_options:function(){var t;t=["horizontal-center disabled","center selected","left","right"],gradx.gx("#gradx_gradient_subtype").html(gradx.generate_options(t)),t=["vertical-center disabled","center selected","top","bottom"],gradx.gx("#gradx_gradient_subtype2").html(gradx.generate_options(t)).parent().css("display","inline-block")},generate_linear_options:function(){var t;t=["horizontal-center disabled","left selected","right","top","bottom"],gradx.gx("#gradx_gradient_subtype").html(gradx.generate_options(t)),gradx.gx("#gradx_gradient_subtype2").parent().css("display","none")},destroy:function(){var t={targets:[],sliders:[],direction:"left",type:"linear",code_shown:!1,change:function(t,r){}};for(var r in t)gradx[r]=t[r]},load_gradx:function(t,r){this.me=gradx.gx(t),this.id=t.replace("#",""),t=this.id,this.current_slider_id=!1;var e="<div class='gradx'>\n\t\t\t\t\t\t<div id='gradx_add_slider' class='gradx_add_slider gradx_btn'><i class='fa fa-plus2 fa-fw'></i>add</div>\n\t\t\t\t\t\t<div class='gradx_slectboxes'>\n\t\t\t\t\t\t<div class='select-wrapper'>\n\t\t\t\t\t\t\t<select id='gradx_gradient_type' class='option-tree-ui-select gradx_gradient_type'>\n\t\t\t\t\t\t\t\t<option value='linear'>Linear</option>\n\t\t\t\t\t\t\t\t<option value='circle'>Radial - Circle</option>\n\t\t\t\t\t\t\t\t<option value='ellipse'>Radial - Ellipse</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='select-wrapper'>\n\t\t\t\t\t\t\t<select id='gradx_gradient_subtype' class='option-tree-ui-select gradx_gradient_type'>\n\t\t\t\t\t\t\t\t<option id='gradx_gradient_subtype_desc' value='gradient-direction' disabled>gradient direction</option>\n\t\t\t\t\t\t\t\t<option value='left' selected>Left</option>\n\t\t\t\t\t\t\t\t<option value='right'>Right</option>\n\t\t\t\t\t\t\t\t<option value='top'>Top</option>\n\t\t\t\t\t\t\t\t<option value='bottom'>Bottom</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='select-wrapper gradx_hide'>\n\t\t\t\t\t\t\t<select id='gradx_gradient_subtype2' class='option-tree-ui-select gradx_gradient_type'>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='select-wrapper gradx_hide'>\n\t\t\t\t\t\t\t<select id='gradx_radial_gradient_size' class='option-tree-ui-select gradx_gradient_type'>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='gradx_container' id='gradx_"+t+"'>\n\t\t\t\t\t\t\t<div id='gradx_stop_sliders_"+t+"'></div>\n\t\t\t\t\t\t\t<div class='gradx_panel' id='gradx_panel_"+t+"'></div>\n\t\t\t\t\t\t\t<div class='gradx_start_sliders' id='gradx_start_sliders_"+t+"'>\n\t\t\t\t\t\t\t\t<div class='cp-default' id='gradx_slider_info'>\n\t\t\t\t\t\t\t\t\t<div id='gradx_slider_controls'>\n\t\t\t\t\t\t\t\t\t\t<div id='gradx_delete_slider' class='gradx_btn'><i class='fa fa-cross fa-fw'></i>delete</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div id='gradx_slider_content'></div>\n\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>";this.me.html(e);var a;if(a=gradx.generate_options(["gradient-size disabled","closest-side selected","closest-corner","farthest-side","farthest-corner","contain","cover"]),gradx.gx("#gradx_radial_gradient_size").html(a),this.container=gradx.gx("#gradx_"+t),this.panel=gradx.gx("#gradx_panel_"+t),this.container_width=400,this.add_slider(r),gradx.add_event(document,"click",function(){if(!gradx.slider_hovered[t])return gradx.gx("#gradx_slider_info").hide(),!1}),gradx.gx("#gradx_add_slider").click(function(){gradx.add_slider([{color:gradx.get_random_rgb(),position:gradx.get_random_position()}]),gradx.update_style_array(),gradx.apply_style(gradx.panel,gradx.get_style_value())}),gradx.cp=gradx.gx("#gradx_slider_content"),gradx.set_colorpicker("blue"),gradx.gx("#gradx_delete_slider").click(function(){gradx.gx(gradx.current_slider_id).remove(),gradx.gx("#gradx_slider_info").hide();for(var t=gradx.current_slider_id.replace("#",""),r=0;r<gradx.slider_ids.length;r++)gradx.slider_ids[r]==t&&gradx.slider_ids.splice(r,1);gradx.update_style_array(),gradx.apply_style(gradx.panel,gradx.get_style_value()),gradx.current_slider_id=!1}),gradx.gx("#gradx_gradient_type").change(function(){var t=gradx.gx(this).val();"linear"!==t?gradx.generate_radial_options():(gradx.generate_linear_options(),gradx.gx("#gradx_gradient_subtype").val("left")),gradx.type=t,gradx.direction=gradx.gx("#gradx_gradient_subtype").val(),gradx.apply_style(gradx.panel,gradx.get_style_value())}),"linear"!==this.type){var d;if(gradx.gx("#gradx_gradient_type").val(this.type),gradx.generate_radial_options(),"left"!==this.direction)i=(d=-1<this.direction.indexOf(",")?this.direction.split(","):this.direction.split(" "))[0],s=d[1],gradx.gx("#gradx_gradient_subtype").val(i),gradx.gx("#gradx_gradient_subtype2").val(s);else var i=gradx.gx("#gradx_gradient_subtype").val(),s=gradx.gx("#gradx_gradient_subtype2").val();gradx.direction=i+" "+s,gradx.apply_style(gradx.panel,gradx.get_style_value())}else"left"!==this.direction&&gradx.gx("#gradx_gradient_subtype").val(this.direction);gradx.gx("#gradx_gradient_subtype").change(function(){if("linear"===gradx.type)gradx.direction=gradx.gx(this).val();else{var t=gradx.gx(this).val(),r=gradx.gx("#gradx_gradient_subtype2").val();gradx.direction=t+" "+r}gradx.apply_style(gradx.panel,gradx.get_style_value())}),gradx.gx("#gradx_gradient_subtype2").change(function(){var t=gradx.gx("#gradx_gradient_subtype").val(),r=gradx.gx(this).val();gradx.direction=t+" "+r,gradx.apply_style(gradx.panel,gradx.get_style_value())}),gradx.gx("#gradx_radial_gradient_size").change(function(){gradx.shape=gradx.gx(this).val(),gradx.apply_style(gradx.panel,gradx.get_style_value())}),gradx.add_event(document.getElementById("gradx_slider_info"),"mouseout",function(){gradx.slider_hovered[t]=!1}),gradx.add_event(document.getElementById("gradx_slider_info"),"mouseover",function(){gradx.slider_hovered[t]=!0})}},gradx.load_jQ(),gradx.gx.extend(r,t),r)gradx[e]=r[e];gradx.load_gradx(_,gradx.sliders),gradx.apply_default_styles()};
